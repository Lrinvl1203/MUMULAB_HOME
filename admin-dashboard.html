<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”’ MUMULAB ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</title>

    <!-- SEO ì°¨ë‹¨ -->
    <meta name="robots" content="noindex, nofollow, noarchive, nosnippet">
    <meta name="googlebot" content="noindex, nofollow">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="admin-auth.js"></script>

    <!-- Custom Styles -->
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .admin-card {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .admin-card:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }

        .status-active {
            background: #10b981;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }

        .status-inactive {
            background: #ef4444;
        }

        .status-pending {
            background: #f59e0b;
        }
    </style>
</head>
<body class="text-white">
    <!-- ì¸ì¦ì€ admin-auth.jsì—ì„œ ì²˜ë¦¬ -->

    <!-- ë©”ì¸ ëŒ€ì‹œë³´ë“œ -->
    <div id="dashboard">
        <!-- í—¤ë” -->
        <header class="admin-card m-6 rounded-lg p-6">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold">ğŸ”’ MUMULAB ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h1>
                    <p class="text-gray-300 mt-1">ì‹œìŠ¤í…œ ê´€ë¦¬ ë° ì½˜í…ì¸  ìš´ì˜</p>
                </div>
                <div class="text-right">
                    <div class="text-sm text-gray-300">ë§ˆì§€ë§‰ ë¡œê·¸ì¸</div>
                    <div id="lastLogin" class="font-semibold">-</div>
                    <button onclick="logout()" class="mt-2 bg-red-600 hover:bg-red-700 px-4 py-1 rounded text-sm transition-colors">
                        ë¡œê·¸ì•„ì›ƒ
                    </button>
                </div>
            </div>
        </header>

        <!-- ì‹œìŠ¤í…œ ìƒíƒœ -->
        <section class="mx-6 mb-6">
            <div class="admin-card rounded-lg p-6">
                <h2 class="text-xl font-bold mb-4">ğŸ“Š ì‹œìŠ¤í…œ ìƒíƒœ</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-white bg-opacity-10 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <span class="status-indicator status-active"></span>
                            <span class="font-semibold">ë¸”ë¡œê·¸ ìë™ ë°œí–‰</span>
                        </div>
                        <div class="text-2xl font-bold" id="blogCount">0</div>
                        <div class="text-sm text-gray-300">ì´ ë°œí–‰ëœ í¬ìŠ¤íŠ¸</div>
                    </div>

                    <div class="bg-white bg-opacity-10 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <span class="status-indicator status-active"></span>
                            <span class="font-semibold">ê´€ë¦¬ì ì—ë””í„°</span>
                        </div>
                        <div class="text-2xl font-bold" id="manualPosts">0</div>
                        <div class="text-sm text-gray-300">ìˆ˜ë™ ì‘ì„± í¬ìŠ¤íŠ¸</div>
                    </div>

                    <div class="bg-white bg-opacity-10 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <span class="status-indicator status-pending"></span>
                            <span class="font-semibold">ì‹œìŠ¤í…œ ìƒíƒœ</span>
                        </div>
                        <div class="text-lg font-bold text-green-400">ì •ìƒ</div>
                        <div class="text-sm text-gray-300">ëª¨ë“  ì„œë¹„ìŠ¤ ê°€ë™ ì¤‘</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ì£¼ìš” ê¸°ëŠ¥ -->
        <section class="mx-6 mb-6">
            <div class="admin-card rounded-lg p-6">
                <h2 class="text-xl font-bold mb-4">ğŸ› ï¸ ì£¼ìš” ê¸°ëŠ¥</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">

                    <!-- ë¸”ë¡œê·¸ ê´€ë¦¬ -->
                    <div class="admin-card rounded-lg p-6 cursor-pointer hover:scale-105 transition-transform" onclick="openBlogEditor()">
                        <div class="text-center">
                            <div class="text-4xl mb-3">âœï¸</div>
                            <h3 class="font-bold text-lg mb-2">ë¸”ë¡œê·¸ ì—ë””í„°</h3>
                            <p class="text-sm text-gray-300 mb-4">ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ì‘ì„± ë° í¸ì§‘</p>
                            <div class="bg-purple-600 px-4 py-2 rounded text-sm font-semibold">
                                ì—ë””í„° ì—´ê¸°
                            </div>
                        </div>
                    </div>

                    <!-- ìë™ ë°œí–‰ ê´€ë¦¬ -->
                    <div class="admin-card rounded-lg p-6 cursor-pointer hover:scale-105 transition-transform" onclick="openAutoPublisher()">
                        <div class="text-center">
                            <div class="text-4xl mb-3">ğŸ¤–</div>
                            <h3 class="font-bold text-lg mb-2">ìë™ ë°œí–‰ ê´€ë¦¬</h3>
                            <p class="text-sm text-gray-300 mb-4">AI ë¸”ë¡œê·¸ ìë™ ë°œí–‰ ì„¤ì •</p>
                            <div class="bg-blue-600 px-4 py-2 rounded text-sm font-semibold">
                                ì„¤ì • ê´€ë¦¬
                            </div>
                        </div>
                    </div>

                    <!-- ì‚¬ì´íŠ¸ ë¶„ì„ -->
                    <div class="admin-card rounded-lg p-6 cursor-pointer hover:scale-105 transition-transform" onclick="openAnalytics()">
                        <div class="text-center">
                            <div class="text-4xl mb-3">ğŸ“ˆ</div>
                            <h3 class="font-bold text-lg mb-2">ì‚¬ì´íŠ¸ ë¶„ì„</h3>
                            <p class="text-sm text-gray-300 mb-4">ë°©ë¬¸ì ë° ì„±ê³¼ ë¶„ì„</p>
                            <div class="bg-green-600 px-4 py-2 rounded text-sm font-semibold">
                                ë¶„ì„ ë³´ê¸°
                            </div>
                        </div>
                    </div>

                    <!-- SEO ê´€ë¦¬ -->
                    <div class="admin-card rounded-lg p-6 cursor-pointer hover:scale-105 transition-transform" onclick="openSEO()">
                        <div class="text-center">
                            <div class="text-4xl mb-3">ğŸ”</div>
                            <h3 class="font-bold text-lg mb-2">SEO ê´€ë¦¬</h3>
                            <p class="text-sm text-gray-300 mb-4">ê²€ìƒ‰ ì—”ì§„ ìµœì í™” ì„¤ì •</p>
                            <div class="bg-orange-600 px-4 py-2 rounded text-sm font-semibold">
                                SEO ì„¤ì •
                            </div>
                        </div>
                    </div>

                    <!-- ë°±ì—… & ë³µì› -->
                    <div class="admin-card rounded-lg p-6 cursor-pointer hover:scale-105 transition-transform" onclick="openBackup()">
                        <div class="text-center">
                            <div class="text-4xl mb-3">ğŸ’¾</div>
                            <h3 class="font-bold text-lg mb-2">ë°±ì—… & ë³µì›</h3>
                            <p class="text-sm text-gray-300 mb-4">ë°ì´í„° ë°±ì—… ë° ë³µì›</p>
                            <div class="bg-indigo-600 px-4 py-2 rounded text-sm font-semibold">
                                ë°±ì—… ê´€ë¦¬
                            </div>
                        </div>
                    </div>

                    <!-- ì‹œìŠ¤í…œ ì„¤ì • -->
                    <div class="admin-card rounded-lg p-6 cursor-pointer hover:scale-105 transition-transform" onclick="openSettings()">
                        <div class="text-center">
                            <div class="text-4xl mb-3">âš™ï¸</div>
                            <h3 class="font-bold text-lg mb-2">ì‹œìŠ¤í…œ ì„¤ì •</h3>
                            <p class="text-sm text-gray-300 mb-4">ì „ì²´ ì‹œìŠ¤í…œ í™˜ê²½ ì„¤ì •</p>
                            <div class="bg-gray-600 px-4 py-2 rounded text-sm font-semibold">
                                ì„¤ì • ì—´ê¸°
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ìµœê·¼ í™œë™ -->
        <section class="mx-6 mb-6">
            <div class="admin-card rounded-lg p-6">
                <h2 class="text-xl font-bold mb-4">ğŸ“‹ ìµœê·¼ í™œë™</h2>
                <div id="recentActivity" class="space-y-3">
                    <!-- í™œë™ ë¡œê·¸ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </section>
    </div>

    <script>
        // ê¸°ì¡´ ì¸ì¦ ì½”ë“œëŠ” admin-auth.jsë¡œ í†µí•©

        function logout() {
            AdminAuth.logout();
            window.location.reload();
        }

        function loadDashboardData() {
            // ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ê°œìˆ˜ ë¡œë“œ
            try {
                const blogPosts = JSON.parse(localStorage.getItem('mumulab_blog_posts') || '[]');
                document.getElementById('manualPosts').textContent = blogPosts.length;
            } catch (e) {
                document.getElementById('manualPosts').textContent = '0';
            }

            // GitHub Actions ìë™ ë°œí–‰ í¬ìŠ¤íŠ¸ ê°œìˆ˜ (ì¶”ì •)
            const startDate = new Date('2024-09-23');
            const today = new Date();
            const daysDiff = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));
            const estimatedAutoPosts = Math.min(daysDiff, 30); // ìµœëŒ€ 30ê°œ
            document.getElementById('blogCount').textContent = estimatedAutoPosts;
        }

        function addActivity(title, description) {
            const activityList = document.getElementById('recentActivity');
            const time = new Date().toLocaleTimeString();

            const activityItem = document.createElement('div');
            activityItem.className = 'bg-white bg-opacity-10 rounded-lg p-3';
            activityItem.innerHTML = `
                <div class="flex justify-between items-start">
                    <div>
                        <div class="font-semibold">${title}</div>
                        <div class="text-sm text-gray-300">${description}</div>
                    </div>
                    <div class="text-xs text-gray-400">${time}</div>
                </div>
            `;

            activityList.insertBefore(activityItem, activityList.firstChild);

            // ìµœëŒ€ 10ê°œ í™œë™ë§Œ í‘œì‹œ
            while (activityList.children.length > 10) {
                activityList.removeChild(activityList.lastChild);
            }
        }

        // ê¸°ëŠ¥ë³„ í•¨ìˆ˜ë“¤
        function openBlogEditor() {
            addActivity('ë¸”ë¡œê·¸ ì—ë””í„° ì ‘ê·¼', 'ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ì‘ì„± í™”ë©´ìœ¼ë¡œ ì´ë™');
            // ì¸ì¦ëœ ìƒíƒœì—ì„œëŠ” ë°”ë¡œ ì´ë™, ì•„ë‹ˆë©´ ì¸ì¦ í›„ ì´ë™
            AdminAuth.navigateToAdminPage('blog-admin-editor.html', '_blank');
        }

        function openAutoPublisher() {
            addActivity('ìë™ ë°œí–‰ ê´€ë¦¬ ì ‘ê·¼', 'ìë™ ë¸”ë¡œê·¸ ë°œí–‰ ì„¤ì • í™”ë©´ìœ¼ë¡œ ì´ë™');
            window.open('auto-blog-integration.html', '_blank');
        }

        function openAnalytics() {
            addActivity('ì‚¬ì´íŠ¸ ë¶„ì„ ì ‘ê·¼', 'Google Analytics ëŒ€ì‹œë³´ë“œë¡œ ì´ë™');
            window.open('https://analytics.google.com/analytics/web/', '_blank');
        }

        function openSEO() {
            addActivity('SEO ê´€ë¦¬ ì ‘ê·¼', 'SEO ì„¤ì • í™”ë©´ ì ‘ê·¼');
            alert('ğŸš§ SEO ê´€ë¦¬ ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤.\n\ní˜„ì¬ êµ¬í˜„ëœ SEO ê¸°ëŠ¥:\n- Google Site Verification\n- Meta tags ìµœì í™”\n- Sitemap ìë™ ìƒì„±');
        }

        function openBackup() {
            addActivity('ë°±ì—… ê´€ë¦¬ ì ‘ê·¼', 'ë°ì´í„° ë°±ì—… ê¸°ëŠ¥ ì ‘ê·¼');
            alert('ğŸš§ ë°±ì—… & ë³µì› ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤.\n\nê³„íšëœ ê¸°ëŠ¥:\n- ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ë°±ì—…\n- ì„¤ì • ë°ì´í„° ë°±ì—…\n- ìë™ ë°±ì—… ìŠ¤ì¼€ì¤„ë§');
        }

        function openSettings() {
            addActivity('ì‹œìŠ¤í…œ ì„¤ì • ì ‘ê·¼', 'ì „ì²´ ì‹œìŠ¤í…œ ì„¤ì • í™”ë©´ ì ‘ê·¼');
            alert('ğŸš§ ì‹œìŠ¤í…œ ì„¤ì • ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤.\n\nê³„íšëœ ì„¤ì •:\n- ì‚¬ì´íŠ¸ ê¸°ë³¸ ì •ë³´\n- ë¸”ë¡œê·¸ ì„¤ì •\n- ìë™í™” ì„¤ì •\n- ë³´ì•ˆ ì„¤ì •');
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì¸ì¦ í™•ì¸
        document.addEventListener('DOMContentLoaded', function() {
            AdminAuth.protectAdminPage(function() {
                // ì¸ì¦ ì„±ê³µ ì‹œ ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™”
                loadDashboardData();
                addActivity('ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì ‘ê·¼', 'ì‹œìŠ¤í…œ ê´€ë¦¬ í™”ë©´ ë¡œë“œ ì™„ë£Œ');

                // ì¸ì¦ ì •ë³´ ë° ë¡œê·¸ì¸ ì‹œê°„ í‘œì‹œ
                const authInfo = AdminAuth.getAuthInfo();
                if (authInfo) {
                    console.log(`ğŸ” ê´€ë¦¬ì ì„¸ì…˜ í™œì„± (ë‚¨ì€ ì‹œê°„: ${authInfo.remainingHours}ì‹œê°„)`);

                    // ë§ˆì§€ë§‰ ë¡œê·¸ì¸ ì‹œê°„ ì—…ë°ì´íŠ¸
                    const lastLoginElement = document.getElementById('lastLogin');
                    if (lastLoginElement) {
                        lastLoginElement.textContent =
                            authInfo.loginTime.toLocaleDateString() + ' ' +
                            authInfo.loginTime.toLocaleTimeString();
                    }
                }
            });
        });

        // ì „ì—­ ê´€ë¦¬ì ì•¡ì„¸ìŠ¤ ìŠ¤í¬ë¦½íŠ¸ í¬í•¨
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.altKey && e.key.toLowerCase() === 'a') {
                e.preventDefault();
                // ì´ë¯¸ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œì— ìˆìœ¼ë¯€ë¡œ ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠìŒ
            }
        });
    </script>
</body>
</html>